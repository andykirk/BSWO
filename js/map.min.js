function leafletMapInitialize(e,o,t){t=t||null;var i=document.getElementById(e),n=e+"__map",l={red:"rgb(253,117,103)",orange:"rgb(255,153,0)",yellow:"rgb(253,245,105)",green:"rgb(0,230,77)",blue:"rgb(105,145,253)",purple:"rgb(142,103,253)",pink:"rgb(230,97,172)"},r=document.querySelector("html");console.log(r),r.classList?r.classList.add("js-map"):r.className+=" js-map",i.innerHTML="";var c=document.createElement("div");c.id=n,i.appendChild(c);var s=L.map(n,{center:[o.lat,o.lng],minZoom:2,zoom:o.zoom,fullscreenControl:!0,fullscreenControlOptions:{position:"topleft"}});if(L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox.streets",accessToken:o.token}).addTo(s),t&&t.forEach(function(e,t){"true"==e.lat&&(e.lat=o.lat),"true"==e.lng&&(e.lng=o.lng);var i=""==e.color?"red":e.color,n=new L.Marker.SVGMarker([e.lat,e.lng],{iconOptions:{fillOpacity:1,iconSize:[21,32],circleFillColor:"rgb(0,0,0)",circleWeight:0,circleRatio:.15,weight:1.5,color:"rgb(0,0,0)",fillColor:l[i]}});"string"==typeof e.popup&&n.bindPopup(e.popup),n.addTo(s)}),"function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var a=window.document.createEvent("UIEvents");a.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(a)}}L.DivIcon.SVGIcon=L.DivIcon.extend({options:{circleText:"",className:"svg-icon",circleAnchor:null,circleColor:null,circleOpacity:null,circleFillColor:"rgb(255,255,255)",circleFillOpacity:null,circleRatio:.5,circleWeight:null,color:"rgb(0,102,255)",fillColor:null,fillOpacity:.4,fontColor:"rgb(0, 0, 0)",fontOpacity:"1",fontSize:null,iconAnchor:null,iconSize:L.point(32,48),opacity:1,popupAnchor:null,weight:2},initialize:function(e){(e=L.Util.setOptions(this,e)).iconSize=L.point(e.iconSize),e.circleAnchor?e.circleAnchor=L.point(e.circleAnchor):e.circleAnchor=L.point(Number(e.iconSize.x)/2,Number(e.iconSize.x)/2),e.circleColor||(e.circleColor=e.color),e.circleFillOpacity||(e.circleFillOpacity=e.opacity),e.circleOpacity||(e.circleOpacity=e.opacity),e.circleWeight||(e.circleWeight=e.weight),e.fillColor||(e.fillColor=e.color),e.fontSize||(e.fontSize=Number(e.iconSize.x/4)),e.iconAnchor?e.iconAnchor=L.point(e.iconAnchor):e.iconAnchor=L.point(Number(e.iconSize.x)/2,Number(e.iconSize.y)),e.popupAnchor?e.popupAnchor=L.point(e.popupAnchor):e.popupAnchor=L.point(0,-.75*e.iconSize.y);this._createPath(),this._createCircle();e.html=this._createSVG()},_createCircle:function(){var e=Number(this.options.circleAnchor.x),t=Number(this.options.circleAnchor.y),i=this.options.iconSize.x/2*Number(this.options.circleRatio),n=this.options.circleFillColor,o=this.options.circleFillOpacity,l=this.options.circleColor,r=this.options.circleOpacity,c=this.options.circleWeight;return'<circle class="'+(this.options.className+"-circle")+'" cx="'+e+'" cy="'+t+'" r="'+i+'" fill="'+n+'" fill-opacity="'+o+'" stroke="'+l+'" stroke-opacity='+r+'" stroke-width="'+c+'"/>'},_createPathDescription:function(){var e=Number(this.options.iconSize.y),t=Number(this.options.iconSize.x),i=Number(this.options.weight),n=i/2;return"M "+n+" "+t/2+" "+("L "+t/2+" "+(e-i)+" ")+("L "+(t-n)+" "+t/2+" ")+("A "+t/4+" "+t/4+" 0 0 0 "+n+" "+t/2+" Z")},_createPath:function(){var e=this._createPathDescription(),t=this.options.weight,i=this.options.color,n=this.options.Opacity,o=this.options.fillColor,l=this.options.fillOpacity;return'<path class="'+(this.options.className+"-path")+'" d="'+e+'" stroke-width="'+t+'" stroke="'+i+'" stroke-opacity="'+n+'" fill="'+o+'" fill-opacity="'+l+'"/>'},_createSVG:function(){var e=this._createPath(),t=this._createCircle(),i=this._createText();return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+(this.options.className+"-svg")+'" style="'+("width:"+this.options.iconSize.x+"; height:"+this.options.iconSize.y+";")+'">'+e+t+i+"</svg>"},_createText:function(){var e=this.options.fontSize+"px",t=Number(this.options.fontSize),i=Number(this.options.iconSize.x)/2,n=i+.35*t,o=this.options.circleText;return'<text text-anchor="middle" x="'+i+'" y="'+n+'" style="font-size: '+e+'" fill="'+this.options.fontColor.replace("rgb(","rgba(").replace(")",","+this.options.fontOpacity+")")+'">'+o+"</text>"}}),L.divIcon.svgIcon=function(e){return new L.DivIcon.SVGIcon(e)},L.Marker.SVGMarker=L.Marker.extend({options:{iconFactory:L.divIcon.svgIcon,iconOptions:{}},initialize:function(e,t){(t=L.Util.setOptions(this,t)).icon=t.iconFactory(t.iconOptions),this._latlng=e},onAdd:function(e){L.Marker.prototype.onAdd.call(this,e)},setStyle:function(e){if(this._icon){this._icon.children[0];var t=this._icon.children[0].children[0],i=this._icon.children[0].children[1];if(e.color&&!e.iconOptions){var n=e.color.replace("rgb","rgba").replace(")",","+this.options.icon.options.opacity+")"),o=e.color.replace("rgb","rgba").replace(")",","+this.options.icon.options.fillOpacity+")");t.setAttribute("stroke",n),t.setAttribute("fill",o),i.setAttribute("stroke",n),this.options.icon.fillColor=o,this.options.icon.color=n,this.options.icon.circleColor=n}if(e.opacity&&this.setOpacity(e.opacity),e.iconOptions){e.color&&(e.iconOptions.color=e.color);var l=L.Util.setOptions(this.options.icon,e.iconOptions);this.setIcon(L.divIcon.svgIcon(l))}}}}),L.marker.svgMarker=function(e,t){return new L.Marker.SVGMarker(e,t)},function(){L.Control.FullScreen=L.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},onAdd:function(e){var t,i="leaflet-control-zoom-fullscreen",n="";return t=e.zoomControl&&!this.options.forceSeparateButton?e.zoomControl._container:L.DomUtil.create("div","leaflet-bar"),this.options.content?n=this.options.content:i+=" fullscreen-icon",this._createButton(this.options.title,i,n,t,this.toggleFullScreen,this),this._map.on("enterFullscreen exitFullscreen",this._toggleTitle,this),t},_createButton:function(e,t,i,n,o,l){return this.link=L.DomUtil.create("a",t,n),this.link.href="#",this.link.title=e,this.link.innerHTML=i,L.DomEvent.addListener(this.link,"click",L.DomEvent.stopPropagation).addListener(this.link,"click",L.DomEvent.preventDefault).addListener(this.link,"click",o,l),L.DomEvent.addListener(n,r.fullScreenEventName,L.DomEvent.stopPropagation).addListener(n,r.fullScreenEventName,L.DomEvent.preventDefault).addListener(n,r.fullScreenEventName,this._handleFullscreenChange,l),L.DomEvent.addListener(document,r.fullScreenEventName,L.DomEvent.stopPropagation).addListener(document,r.fullScreenEventName,L.DomEvent.preventDefault).addListener(document,r.fullScreenEventName,this._handleFullscreenChange,l),this.link},toggleFullScreen:function(){var e=this._map;e._exitFired=!1,e._isFullscreen?(r.supportsFullScreen&&!this.options.forcePseudoFullscreen?r.cancelFullScreen():L.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:e._container,"leaflet-pseudo-fullscreen"),e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1):(r.supportsFullScreen&&!this.options.forcePseudoFullscreen?r.requestFullScreen(this.options.fullscreenElement?this.options.fullscreenElement:e._container):L.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:e._container,"leaflet-pseudo-fullscreen"),e.fire("enterFullscreen"),e._isFullscreen=!0)},_toggleTitle:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel},_handleFullscreenChange:function(){var e=this._map;e.invalidateSize(),r.isFullScreen()||e._exitFired||(e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1)}}),L.Map.addInitHook(function(){this.options.fullscreenControl&&(this.fullscreenControl=L.control.fullscreen(this.options.fullscreenControlOptions),this.addControl(this.fullscreenControl))});var r={supportsFullScreen:!(L.control.fullscreen=function(e){return new L.Control.FullScreen(e)}),isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},e="webkit moz o ms khtml".split(" ");if(void 0!==document.exitFullscreen)r.supportsFullScreen=!0;else{for(var t=0,i=e.length;t<i;t++)if(r.prefix=e[t],void 0!==document[r.prefix+"CancelFullScreen"]){r.supportsFullScreen=!0;break}void 0!==document.msExitFullscreen&&(r.prefix="ms",r.supportsFullScreen=!0)}r.supportsFullScreen&&("ms"===r.prefix?r.fullScreenEventName="MSFullscreenChange":r.fullScreenEventName=r.prefix+"fullscreenchange",r.isFullScreen=function(){switch(this.prefix){case"":return document.fullscreen;case"webkit":return document.webkitIsFullScreen;case"ms":return document.msFullscreenElement;default:return document[this.prefix+"FullScreen"]}},r.requestFullScreen=function(e){switch(this.prefix){case"":return e.requestFullscreen();case"ms":return e.msRequestFullscreen();default:return e[this.prefix+"RequestFullScreen"]()}},r.cancelFullScreen=function(){switch(this.prefix){case"":return document.exitFullscreen();case"ms":return document.msExitFullscreen();default:return document[this.prefix+"CancelFullScreen"]()}}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each(function(){var e=jQuery(this);r.supportsFullScreen&&r.requestFullScreen(e)})}),window.fullScreenApi=r}();